(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{1725:function(e,t,s){Promise.resolve().then(s.bind(s,8958))},8958:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),l=s(9501),n=s(7119),i=s(3590),r=s(9376),d=s(6023),o=s(8278);let c=n.Ry({date:n.Z_(),afternoonSnack:n.Km(["Yes","No"]).transform(e=>"Yes"===e),cravingIntensity:n.oQ.number().min(0).max(10),stressLevel:n.oQ.number().min(0).max(10),reasons:n.IX(n.Z_()).min(0),usedPause:n.Km(["Yes","No","Didn't need to"]),whatAte:n.Z_().max(200).optional().default(""),feelAfter:n.Km(["Relieved","Neutral","Guilty","Still craving","Calm","Other"]),goodThing:n.Z_().max(300).optional().default(""),hardThing:n.Z_().max(300).optional().default("")}),u=["Stress","Boredom","Emotional comfort","Hunger","Habit","Fatigue","Not sure"];function h(){let e=(0,r.useRouter)(),{register:t,handleSubmit:s,watch:n,setValue:h,formState:{errors:m}}=(0,l.cI)({resolver:(0,i.F)(c),defaultValues:{date:(0,o.Gs)(),afternoonSnack:"No",cravingIntensity:0,stressLevel:0,reasons:[],usedPause:"No",feelAfter:"Neutral"}}),f=e=>{let t=new Set(n("reasons"));t.has(e)?t.delete(e):t.add(e),h("reasons",Array.from(t),{shouldDirty:!0,shouldValidate:!0})};return(0,a.jsx)("form",{onSubmit:s(t=>{var s,a,l;d.K.upsertDaily({id:void 0,date:t.date,afternoonSnack:t.afternoonSnack,cravingIntensity:t.cravingIntensity,stressLevel:t.stressLevel,reasons:t.reasons,usedPause:t.usedPause,whatAte:null!==(s=t.whatAte)&&void 0!==s?s:"",feelAfter:t.feelAfter,goodThing:null!==(a=t.goodThing)&&void 0!==a?a:"",hardThing:null!==(l=t.hardThing)&&void 0!==l?l:""}),e.push("/")}),className:"space-y-4",children:(0,a.jsxs)("div",{className:"section space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Date"}),(0,a.jsx)("input",{type:"date",className:"input",...t("date")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Afternoon snack eaten?"}),(0,a.jsxs)("select",{className:"select",...t("afternoonSnack"),children:[(0,a.jsx)("option",{children:"Yes"}),(0,a.jsx)("option",{children:"No"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Craving intensity (0–10)"}),(0,a.jsx)("input",{type:"range",min:0,max:10,className:"w-full",...t("cravingIntensity")}),(0,a.jsx)("div",{className:"text-sm text-warmgray-600",children:n("cravingIntensity")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Stress level (0–10)"}),(0,a.jsx)("input",{type:"range",min:0,max:10,className:"w-full",...t("stressLevel")}),(0,a.jsx)("div",{className:"text-sm text-warmgray-600",children:n("stressLevel")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Reason for craving"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>f(e),className:"badge ".concat(n("reasons").includes(e)?"bg-mint-200 text-mint-900":""),children:e},e))}),m.reasons&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:String(m.reasons.message)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"Did you use the 5-minute pause?"}),(0,a.jsxs)("select",{className:"select",...t("usedPause"),children:[(0,a.jsx)("option",{children:"Yes"}),(0,a.jsx)("option",{children:"No"}),(0,a.jsx)("option",{children:"Didn't need to"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"What did you eat?"}),(0,a.jsx)("input",{className:"input",placeholder:"e.g., apple, cookies, yogurt",...t("whatAte")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"How did you feel afterward?"}),(0,a.jsx)("select",{className:"select",...t("feelAfter"),children:["Relieved","Neutral","Guilty","Still craving","Calm","Other"].map(e=>(0,a.jsx)("option",{children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"One good thing today"}),(0,a.jsx)("textarea",{className:"textarea",rows:2,placeholder:"Celebrate a small win",...t("goodThing")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",children:"One hard thing today"}),(0,a.jsx)("textarea",{className:"textarea",rows:2,placeholder:"Name a challenge without judgment",...t("hardThing")})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Save Daily Check-In"}),(0,a.jsx)("button",{className:"btn btn-ghost",type:"button",onClick:()=>history.back(),children:"Cancel"})]})]})})}},8278:function(e,t,s){"use strict";s.d(t,{Gs:function(){return a},Vn:function(){return l},vV:function(){return i},zJ:function(){return n}});let a=()=>new Date().toISOString().slice(0,10),l=e=>e.toISOString().slice(0,10),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=new Date(e),s=(t.getDay()+6)%7;return t.setDate(t.getDate()-s),t.setHours(0,0,0,0),t},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=n(e),s=new Date(t);return s.setDate(t.getDate()+6),s}},6023:function(e,t,s){"use strict";s.d(t,{K:function(){return u}});var a=s(9360);let l=()=>(0,a.Z)();var n=s(8278);let i="ct_daily",r="ct_weekly",d="ct_prefs";function o(e,t){try{let s=localStorage.getItem(e);return s?JSON.parse(s):t}catch(e){return t}}function c(e,t){localStorage.setItem(e,JSON.stringify(t))}let u={listDaily:()=>o(i,[]).sort((e,t)=>e.date.localeCompare(t.date)),getDaily(e){return this.listDaily().find(t=>t.id===e)},upsertDaily(e){let t;let s=this.listDaily();if(e.id){var a;t={...e,createdAt:null!==(a=e.createdAt)&&void 0!==a?a:new Date().toISOString()};let l=s.findIndex(t=>t.id===e.id);l>=0?s[l]=t:s.push(t)}else t={...e,id:l(),createdAt:new Date().toISOString()},s.push(t);return c(i,s),t},todayDaily(){let e=(0,n.Gs)();return this.listDaily().find(t=>t.date===e)},listWeekly:()=>o(r,[]).sort((e,t)=>e.weekStart.localeCompare(t.weekStart)),getWeekly(e){return this.listWeekly().find(t=>t.id===e)},upsertWeekly(e){let t;let s=this.listWeekly();if(e.id){var a;t={...e,createdAt:null!==(a=e.createdAt)&&void 0!==a?a:new Date().toISOString()};let l=s.findIndex(t=>t.id===e.id);l>=0?s[l]=t:s.push(t)}else t={...e,id:l(),createdAt:new Date().toISOString()},s.push(t);return c(r,s),t},getPrefs:()=>o(d,{remindersEnabled:!1,checkInHour:15}),setPrefs(e){c(d,e)},exportAll(){return JSON.stringify({daily:this.listDaily(),weekly:this.listWeekly(),prefs:this.getPrefs()},null,2)},importAll(e){let t=JSON.parse(e);t.daily&&c(i,t.daily),t.weekly&&c(r,t.weekly),t.prefs&&c(d,t.prefs)}}}},function(e){e.O(0,[752,971,117,744],function(){return e(e.s=1725)}),_N_E=e.O()}]);